<!doctype html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport"
        content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Use the title from a page's frontmatter if it has one -->
  <title>Java System.arraycopy</title>
  <link href="/stylesheets/site.css" rel="stylesheet" />
  <script src="/javascripts/site.js"></script>
</head>

  <body>
    <p>
<a href="/">Back...</a>
</p>


    <i>Disclaimer: These my raw thoughts and opinions, ideas expressed may not be fully formed or completely factual.</i>

    <h1 id="javas-systemarraycopy">Java's System.arraycopy</h1>

<p>The below may seem simple to someone has used Java regularly for years, however I'm jumping back in after a few years in the Ruby-sphere and trying to blow the cobwebs out with a few coding challenges on <a href="https://www.hackerrank.com/">HackerRank</a></p>

<p>Because Java passes references to the arrays around between methods, we can't alter arrays the context of a method without interfering with the state of the array in other methods.</p>

<p>In cases we need to make some change to an array without altering the initial state of the array. We should use the arraycopy method.</p>

<p>From: <a href="https://www.tutorialspoint.com/java/lang/system_arraycopy.htm">TutorialPoint</a></p>

<pre><code>public static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)
</code></pre>

<p>Now each parameter in my own wordsâ€¦</p>

<p><code>
src - The source array that will be copied from
srcPos - The index data will be copied from in the source array
dest - The destination array that dat will be written to (from the source)
destPos - The index that data will be copied to.
length - The length of data that will be copied from srcPos to destPos + (length - 1)
</code></p>

<p>I was reviewing code a merge sort implementation I wrote <a href="https://gist.github.com/dekaikiwi/35112679b5ccd4209bd3c75c9b5de88b">here</a> previously and noticed that when merging sorted arrays I had the following snippet at the end.</p>

<pre><code>System.arraycopy(numbers, leftIndex, temp, insertIndex, leftEnd - leftIndex + 1);
System.arraycopy(numbers, rightIndex, temp, insertIndex, rightEnd - rightIndex + 1);
</code></pre>

<p>In this case insertIndex was set to the same value, which would in theory result in data from the first arraycopy being overwritten.</p>

<p>But upon viewing the while loop that comes before this snippet</p>

<pre><code>while (leftIndex &lt;= leftEnd &amp;&amp; rightIndex &lt;= rightEnd) {
  leftNum = numbers[leftIndex];
  rightNum = numbers[rightIndex];

  if (leftNum &lt; rightNum) {
    temp[insertIndex] = leftNum;
    leftIndex += 1;
  } else {
    temp[insertIndex] = rightNum;
    rightIndex += 1;
  }

  insertIndex += 1;
}
</code></pre>

<p>Which means the <code>length</code> field for one of the <code>arraycopy</code> calls will be zero, preventing any data from being overwritten.</p>

<p>Obvious in hindsight :)</p>

<p>Anyway this note is more of less just an exercise to help try and plant the behavior of the <code>System.arraycopy</code> method in my head.</p>

<p>There's quite a bit going on in the parameter list, so seems quite easy to forget :/ Seems like the sort of method that needs a googling every time it gets used!</p>

    <div id='footer'>
  Latest commit history for this page...
  <ul class='git_commits'>
    <li>
      <a href="https://github.com/dekaikiwi/blog_middleman_template/commit/5e6faa8649dd35e4c7258f4a7fea983e0c7231b5">5e6faa86</a>
      Jonathan Glassey - a year or two -> a few years (2019-04-20 14:21:41 UTC)
    </li>
    <li>
      <a href="https://github.com/dekaikiwi/blog_middleman_template/commit/3d6cece1fe022c104e06d5fbf491665e03a80d60">3d6cece1</a>
      Jonathan Glassey - Fix codeblock markdown (2019-04-20 14:05:56 UTC)
    </li>
    <li>
      <a href="https://github.com/dekaikiwi/blog_middleman_template/commit/381c25fd20707f4df9154bc2d1bb38ed03faa732">381c25fd</a>
      Jonathan Glassey - Change nuggets to notes (2019-04-20 13:58:42 UTC)
    </li>
  </ul>
</div>

  </body>
</html>
